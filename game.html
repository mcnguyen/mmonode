<html>
	<head>
		<title>Space Game</title>
	</head>
	
	<body>
		<canvas id="game" width="640" height="480"></canvas>

		<script>
			class SpaceEth {
			
				constructor(canvas){

			    	this.x = 320;
			    	this.y = 240;	

					this._canvas = canvas;
					this._context = canvas.getContext('2d');

			        let lastTime = null;

			        this._frameCallback = (ms) => {
			            if (lastTime !== null) {
			                const diff = ms - lastTime;
			                this.update(diff / 1000);
			            }
			            lastTime = ms;
			            requestAnimationFrame(this._frameCallback);
			        };					

				}

			    draw(){

			        let w = 2;
			        let h = 4;

					this._context.strokeStyle = '#FFFFFF';
			        this._context.lineWidth = 1;

			        this._context.beginPath();
			        this._context.moveTo(this.x,this.y-(h/2));
			        this._context.lineTo(this.x-(w/2),this.y+(h/2));
			        this._context.lineTo(this.x+(w/2),this.y+(h/2));
			        this._context.lineTo(this.x,this.y-(h/2));
			        this._context.closePath();
			        this._context.stroke();
			        this._context.restore();

			        this._context.fillStyle = '#FF0000';
			        this._context.fillRect(this.x , this.y, 1, 1);    			    	
			        
			        this.y--;
			        
			    }

			    clear(){
			        this._context.fillStyle = '#000000';
			        this._context.fillRect(0, 0, this._canvas.width, this._canvas.height);
			    }

				update(dt){
					
					this.clear();

					this.draw();
				}

				startGame(){
					requestAnimationFrame(this._frameCallback);
				}
			}


			window.onload = function(){
				canvas = document.getElementById('game');

				const game = new SpaceEth(canvas);
				game.startGame();
			}


		</script>
	</body>
</html>